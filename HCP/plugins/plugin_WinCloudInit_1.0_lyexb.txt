{
  "referenceId": "lyexb",
  "version": "1.0",
  "name": "WinCloudInit",
  "license": "EULA",
  "description": null,
  "baseScript": "Install-Module WinCloudInit -Scope AllUsers -Force\n\n$content = @'\n{\n  \"HostName\": \"WINCLOUDINIT\",\n  \"HDD\": [\n    {\n      \"Capacity\": 40,\n      \"DeviceNode\": \"scsi0:0\",\n      \"Uuid\": \"6000c2913a13b84ecf0ba5000ddc71d2\"\n    },\n    {\n      \"Capacity\": 40,\n      \"Label\": \"Data\",\n      \"MountPoint\": \"C:\\data\",\n      \"ClusterSizeKB\": 64,\n      \"DeviceNode\": \"scsi1:0\",\n      \"Uuid\": \"6000c29d238336928f301e14245e80b4\"\n    }\n  ],\n  \"NIC\": [\n    {\n      \"Ip\": [\n        \"10.240.157.10/24\",\n        \"10.240.157.11/24\"\n      ],\n      \"Gw\": \"10.240.157.1\",\n      \"Name\": \"PrivateConnection\",\n      \"Mac\": \"00:50:56:96:1d:27\"\n    },\n    {\n      \"Ip\": [\n        \"10.250.157.10/24\",\n      ],\n      \"Name\": \"PrivateConnection2\",\n      \"Mac\": \"00:50:56:96:1d:28\"\n    }\n  ],\n  \"DNS\": {\n    \"DomainSearch\": [\n      \"skygrid.cloud\"\n    ],\n    \"Servers\": [\n      \"10.0.1.2\",\n      \"10.0.1.252\"\n    ]\n  },\n  \"Sysprep\": {\n    \"Org\": \"HyperGrid\",\n    \"Owner\": \"HyperGrid\",\n    \"TimeZone\": \"PST\"\n  },\n  \"ProductKey\": \"D2N9P-3P6X9-2R39C-7RTCD-MDVJX\",\n  \"WinRM\": {\n    \"Https\": true,\n    \"Certificate\": \"812FF641630C82CFC1114597409DB086FA43E480\",\n    \"UserMapping\": {\n        \"automation\": \"5CBF402EA2AA8481FB7677705471E84C32A9833B\"\n      }\n  },\n  \"ExecutionPolicy\": \"UnRestricted\",\n  \"RDP\": true,\n  \"Firewall\": {\n    \"Disabled\": true\n  },\n  \"Certificates\": [\n    {\n      \"File\": \"wincloudinit-winrm.pfx\",\n      \"Store\": [ \"LocalMachine\\\\My\" ],\n      \"Password\": [\n        \"tV+j7zZWctl3HvccGzJUetBblhV5qOjhaPdlvr/FFSZEWBmyCoYCB6A0V0iYyqIU\",\n        \"4JrU7pljAnzvccXK1eh4PD4yr6S9wj/7bBynxsYGH2YlYI4uDwv5sFUP8p2kwNAd\",\n        \"qafVuuItZFWzNDeg/Ta/w+UJbXjsXn7+PfAc5wo1sMX9tgUV7G6FJh7kVwzxl7Ax\",\n        \"/Oegu0a94fUMSZJaU8cJJ4JFUHpopmtSkOQyVxykHPKYCX8njdaabnRwhzc0jugU\",\n        \"+l5pCx0ljpEJbkVtfbOHij5IZFD0AKsoWJg1Uzmfjs7hwcFQmDaXUajBK3Fq5XNs\",\n        \"WiQIKnXzk5ppTxJEL66KtQ==\"\n      ]\n    },\n    {\n      \"File\": \"GeoTrust Global CA.cer\",\n      \"Store\": [ \"LocalMachine\\\\CA\" ]\n    },\n    {\n      \"Url\": \"https://www.server.com/automation.cer\",\n      \"Store\": [ \"LocalMachine\\\\Root\", \"LocalMachine\\\\TrustedPeople\" ]\n    }\n  ],\n  \"Groups\": [ \"PowerUsers\" ],\n  \"Users\": [\n    {\n      \"Name\": \"admin\",\n      \"Password\": [\n        \"OV+j7zZWctl3HvccGzJUetBblhV5qOjhaPdlvr/FFSZEWBmyCoYCB6A0V0iYyqIU\",\n        \"4JrU7pljAnzvccXK1eh4PD4yr6S9wj/7bBynxsYGH2YlYI4uDwv5sFUP8p2kwNAd\",\n        \"qafVuuItZFWzNDeg/Ta/w+UJbXjsXn7+PfAc5wo1sMX9tgUV7G6FJh7kVwzxl7Ax\",\n        \"/Oegu0a94fUMSZJaU8cJJ4JFUHpopmtSkOQyVxykHPKYCX8njdaabnRwhzc0jugU\",\n        \"+l5pCx0ljpEJbkVtfbOHij5IZFD0AKsoWJg1Uzmfjs7hwcFQmDaXUajBK3Fq5XNs\",\n        \"WiQIKnXzk5ppTxJEL66KtQ==\"\n      ]\n    },\n    {\n      \"Name\": \"automation\",\n      \"Password\": [\n        \"PV+j7zZWctl3HvccGzJUetBblhV5qOjhaPdlvr/FFSZEWBmyCoYCB6A0V0iYyqIU\",\n        \"4JrU7pljAnzvccXK1eh4PD4yr6S9wj/7bBynxsYGH2YlYI4uDwv5sFUP8p2kwNAd\",\n        \"qafVuuItZFWzNDeg/Ta/w+UJbXjsXn7+PfAc5wo1sMX9tgUV7G6FJh7kVwzxl7Ax\",\n        \"/Oegu0a94fUMSZJaU8cJJ4JFUHpopmtSkOQyVxykHPKYCX8njdaabnRwhzc0jugU\",\n        \"+l5pCx0ljpEJbkVtfbOHij5IZFD0AKsoWJg1Uzmfjs7hwcFQmDaXUajBK3Fq5XNs\",\n        \"WiQIKnXzk5ppTxJEL66KtQ==\"\n      ],\n      \"Groups\": [ \"PowerUsers\", \"Administrators\" ]\n    }\n  ]\n}\n'@\n\nNew-Item 'c:\\cloud-config\\cloud-config.json' -type file -force -value $content\n\nSet-WinCloudInit -Enabled\n\nrestart-computer -Force",
  "envs": [],
  "scriptArgs": null,
  "scriptLang": "POWERSHELL",
  "timeout": 30
}